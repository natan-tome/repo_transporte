# ğŸ Imagem base Python 3.10 slim (leve e eficiente)
FROM python:3.10-slim

# ğŸ“¦ Instala dependÃªncias do sistema (ferramentas essenciais)
RUN apt-get update && apt-get install -y curl unzip && rm -rf /var/lib/apt/lists/*

# ğŸ”„ Instala Databricks CLI moderna (versÃ£o estÃ¡vel recomendada)
RUN curl -fsSL https://raw.githubusercontent.com/databricks/setup-cli/main/install.sh | bash

# ğŸ›£ï¸ Configura PATH global para acesso fÃ¡cil ao CLI
ENV PATH="/root/.databricks/bin:$PATH"

# ğŸ“‚ Define diretÃ³rio de trabalho e copia arquivos do projeto
WORKDIR /app
COPY . . 

# ğŸ”’ Torna o entrypoint executÃ¡vel
RUN chmod +x entrypoint.sh

# ğŸš€ Define script de inicializaÃ§Ã£o padrÃ£o
ENTRYPOINT ["sh", "./entrypoint.sh"]
